(function(p){typeof define=="function"&&define.amd?define(p):p()})(function(){"use strict";function p(){document.querySelector("#dungeon-quest-rpg").innerHTML=`
    <div>
      <div id="stats">
        <span class="stat">XP: <strong><span id="xpText">0</span></strong></span>
        <span class="stat">Health: <strong><span id="healthText">100</span></strong></span>
        <span class="stat">Gold: <strong><span id="goldText">50</span></strong></span>
      </div>
      <div id="controls">
        <button id="button1">Go to store</button>
        <button id="button2">Go to cave</button>
        <button id="button3">Fight dragon</button>
      </div>
      <div id="monsterStats">
        <span class="stat">Monster Name: <strong><span id="monsterName"></span></strong></span>
        <span class="stat">Health: <strong><span id="monsterHealth"></span></strong></span>
      </div>
      <div id="text">
        Welcome to Dragon Repeller. You must defeat the dragon that is preventing people from leaving the town. You are in the town square. Where do you want to go? Use the buttons above.
      </div>
    </div>
  `}const b=[{name:"stick",power:5},{name:"dagger",power:30},{name:"claw hammer",power:50},{name:"sword",power:100}],l=[{name:"slime",level:2,health:15},{name:"fanged beast",level:8,health:60},{name:"dragon",level:20,health:300}];let g=0,o=100,n=50,c=0,r=0,f=0,i=["stick"];if(!document.querySelector("#dungeon-quest-rpg"))throw Error('Your code is missing an element with the "dungeon-quest-rpg" id. Please add the element with that id to your code.');p();const w=document.querySelector("#button1"),x=document.querySelector("#button2"),y=document.querySelector("#button3"),t=document.querySelector("#text"),Y=document.querySelector("#xpText"),T=document.querySelector("#healthText"),h=document.querySelector("#goldText"),k=document.querySelector("#monsterStats"),A=document.querySelector("#monsterName"),q=document.querySelector("#monsterHealth"),a=[{name:"town square","button text":["Go to store","Go to cave","Fight dragon"],"button functions":[M,G,H],text:'You are in the town square. You see a sign that says "Store".'},{name:"store","button text":["Buy 10 health (10 gold)","Buy weapon (30 gold)","Go to town square"],"button functions":[L,P,d],text:"You enter the store."},{name:"cave","button text":["Fight slime","Fight fanged beast","Go to town square"],"button functions":[F,I,d],text:"You enter the cave. You see some monsters."},{name:"fight","button text":["Attack","Dodge","Run"],"button functions":[N,Q,d],text:"You are fighting a monster."},{name:"kill monster","button text":["Go to town square","Go to town square","Go to town square"],"button functions":[d,d,O],text:'The monster screams "Arg!" as it dies. You gain experience points and find gold.'},{name:"lose","button text":["REPLAY?","REPLAY?","REPLAY?"],"button functions":[m,m,m],text:"You die. &#x2620;"},{name:"win","button text":["REPLAY?","REPLAY?","REPLAY?"],"button functions":[m,m,m],text:"You defeat the dragon! YOU WIN THE GAME! &#x1F389;"},{name:"easter egg","button text":["2","8","Go to town square?"],"button functions":[V,X,d],text:"You find a secret game. Pick a number above. Ten numbers will be randomly chosen between 0 and 10. If the number you choose matches one of the random numbers, you win!"}];w.onclick=M,x.onclick=G,y.onclick=H;function s(e){k.style.display="none",w.innerText=e["button text"][0],x.innerText=e["button text"][1],y.innerText=e["button text"][2],w.onclick=e["button functions"][0],x.onclick=e["button functions"][1],y.onclick=e["button functions"][2],t.innerHTML=e.text}function d(){s(a[0])}function M(){s(a[1])}function G(){s(a[2])}function L(){n>=10?(n-=10,o+=10,h.innerText=String(n),T.innerText=String(o)):t.innerText="You do not have enough gold to buy health."}function P(){if(c<b.length-1)if(n>=30){n-=30,c++,h.innerText=String(n);let e=b[c].name;t.innerText="You now have a "+e+".",i.push(e),t.innerText+=" In your inventory you have: "+i}else t.innerText="You do not have enough gold to buy a weapon.";else t.innerText="You already have the most powerful weapon!",x.innerText="Sell weapon for 15 gold",x.onclick=W}function W(){if(i.length>1){n+=15,h.innerText=String(n);let e=i.shift();t.innerText="You sold a "+e+".",t.innerText+=" In your inventory you have: "+i}else t.innerText="Don't sell your only weapon!"}function F(){r=0,v()}function I(){r=1,v()}function H(){r=2,v()}function v(){s(a[3]),f=l[r].health,k.style.display="block",A.innerText=l[r].name,q.innerText=String(f)}function N(){t.innerText="The "+l[r].name+" attacks.",t.innerText+=" You attack it with your "+b[c].name+".",o-=D(l[r].level),B()?f-=b[c].power+Math.floor(Math.random()*g)+1:t.innerText+=" You miss.",T.innerText=String(o),q.innerText=String(f),o<=0?E():f<=0&&(r===2?C():U()),Math.random()<=.1&&i.length!==1&&(t.innerText+=" Your "+i.pop()+" breaks.",c--)}function D(e){const u=e*5-Math.floor(Math.random()*g);return console.log(u),u>0?u:0}function B(){return Math.random()>.2||o<20}function Q(){t.innerText="You dodge the attack from the "+l[r].name}function U(){n+=Math.floor(l[r].level*6.7),g+=l[r].level,h.innerText=String(n),Y.innerText=String(g),s(a[4])}function E(){s(a[5])}function C(){s(a[6])}function m(){g=0,o=100,n=50,c=0,i=["stick"],h.innerText=String(n),T.innerText=String(o),Y.innerText=String(g),d()}function O(){s(a[7])}function V(){R(2)}function X(){R(8)}function R(e){const u=[];for(;u.length<10;)u.push(Math.floor(Math.random()*11));t.innerText="You picked "+e+`. Here are the random numbers:
`;for(let S=0;S<10;S++)t.innerText+=u[S]+`
`;u.includes(e)?(t.innerText+="Right! You win 20 gold!",n+=20,h.innerText=String(n)):(t.innerText+="Wrong! You lose 10 health!",o-=10,T.innerText=String(o),o<=0&&E())}});
